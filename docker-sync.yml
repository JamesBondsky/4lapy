version: 2

options:
  compose-file-path: './docker-compose.yml'
  varbose: true
syncs:
  app-local-sync:
    notify_terminal: false
    src: ${PWD}/common/local
    sync_strategy: 'native_osx'
    sync_userid: 1000
    sync_args:
      - "-prefer newer"
      - "-ignore='Path .git'"
      - "-ignore='BelowPath .git'"
    sync_excludes: [ '.DS_Store', '.git', '.idea', 'node_modules' ]
    host_disk_mount_mode: 'cached'
  app-src-sync:
    src: ${PWD}/src
    sync_strategy: 'native_osx'
    sync_userid: 1000
    sync_args:
      - "-prefer newer"
      - "-ignore='Path .git'"
      - "-ignore='BelowPath .git'"
    sync_excludes: [ '.DS_Store', '.git', '.idea', 'node_modules' ]
    host_disk_mount_mode: 'cached'
  app-web-sync:
    src: ${PWD}/web
    sync_strategy: 'native_osx'
    sync_userid: 1000
    sync_args:
      - "-prefer newer"
      - "-ignore='Path .git'"
      - "-ignore='BelowPath .git'"
    sync_excludes: [ '.DS_Store', '.git', '.idea', 'node_modules' ]
    host_disk_mount_mode: 'cached'
  app:
    notify_terminal: false
    src: ${PWD}/htdocs
    sync_strategy: 'native_osx'
    sync_userid: 1000
    sync_args:
      - "-prefer newer"
      - "-ignore='Path .git'"
      - "-ignore='BelowPath .git'"
    sync_excludes: [ '.DS_Store', '.git', '.idea', 'node_modules' ]
    host_disk_mount_mode: 'cached'
