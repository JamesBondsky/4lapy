var Layout=function(){var a=function(){var t=$(".carousel .item"),o=$(window).height();t.eq(0).addClass("active"),t.height(o),t.addClass("full-screen"),$(".carousel img").each(function(){var t=$(this).attr("src"),o=$(this).attr("data-color");$(this).parent().css({"background-image":"url("+t+")","background-color":o}),$(this).remove()}),$(window).on("resize",function(){o=$(window).height(),t.height(o)})},e=function(){$("[data-auto-height]").each(function(){var t=$(this),o=$("[data-height]",t),a=0,e=t.attr("data-mode"),i=parseInt(t.attr("data-offset")?t.attr("data-offset"):0);o.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",""):$(this).css("min-height","");var t="base-height"==e?$(this).outerHeight():$(this).outerHeight(!0);t>a&&(a=t)}),a+=i,o.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",a):$(this).css("min-height",a)}),t.attr("data-related")&&$(t.attr("data-related")).css("height",t.height())})},i=function(){var t=$(".work-popup-overlay"),o=$(".work-popup-close"),a=$(".work-popup-trigger");a.on("click",function(){$('#permanent_popup').hide();a.removeClass('active');$(this).addClass('active');$(this).parent().find(".work-popup-overlay").removeClass("work-popup-overlay-show"),$(this).find(".work-popup-overlay").addClass("work-popup-overlay-show")}),o.on("click",function(o){o.stopPropagation(),a.removeClass('active'),t.removeClass("work-popup-overlay-show"),$('#permanent_popup').show();})};return{init:function(){a(),e(),i()},getViewPort:function(){var t=window,o="inner";return"innerWidth"in window||(o="client",t=document.documentElement||document.body),{width:t[o+"Width"],height:t[o+"Height"]}}}}();$(document).ready(function(){Layout.init()});