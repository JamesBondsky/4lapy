<style>
    .product-categories-property-items {
        padding: 0;
        margin: 0;
    }

    .product-categories-property-item {
        list-style: none;
        display: block;
        float: left;
        width: 142px;
        border: 2px dashed #d3d2d2;
        border-radius: 4px;
        margin: 1%;
        cursor: move;
    }

    .product-categories-property-item:hover {
        border: 2px dashed #929ba1;
    }

    .block__list li {
        cursor: move;
    }

    .block__list li label {
        cursor: pointer;
    }

    .block__list_words li {
        padding: 5px;
    }

    .block__list_words .sortable-ghost {
        opacity: 0.4;
        background-color: #F4E2C9;
    }

    .block__list_words li:first-letter {
        text-transform: uppercase;
    }

    .block__list_tags li {
        color: #fff;
        float: left;
        margin: 8px 20px 10px 0;
        padding: 5px 10px;
        min-width: 10px;
        background-color: #5F9EDF;
        text-align: center;
    }

    .block__list_tags li:first-child:first-letter {
        text-transform: uppercase;
    }

    .product-categories-property-item:nth-child(5),
    .product-categories-property-item:nth-child(8) {
        clear: left;
    }

    .product-categories-property-item:nth-child(5) {
        margin-left: 98px;
    }

    .input-wrapper {
        margin-bottom: 10px;
    }

    .input-wrapper input {
        width: 100%;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
</style>
<input type="hidden" name="#CONTROL_NAME#" id="sending_field_ProductCategoriesProperty" value='#CONTROL_NAME_VALUE#'>
<div id="product-categories-property-wrapper">
    <ul class="product-categories-property-items block__list_words" id="product-categories-property-items">
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
        <li class="product-categories-property-item">
            <div class="input-wrapper">
                <label for="title">Заголовок</label>
                <input type="text" name="title" id="title" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Подзаголовок</label>
                <input type="text" name="subtitle" id="subtitle" value="">
            </div>
            <div class="input-wrapper">
                <label for="title">Фильтры</label>
                <input type="text" name="filters" id="filters" value="">
            </div>
        </li>
    </ul>
</div>

<script>
    $(document).ready(function () {
        let parentWrapper = $('#product-categories-property-wrapper'),
            switcherItemsWrapper = $('#product-categories-property-items'),
            inputItems = switcherItemsWrapper.find('input'),
            sortableEl = switcherItemsWrapper[0],
            sendingField = $('#sending_field_ProductCategoriesProperty');
        function init() {
            //sortable init
            Sortable.create(sortableEl, {
                animation: 150,
                onUpdate: function (evt) {
                    setSendingField();
                }
            });
            let initData = JSON.parse(sendingField.val());
            $.each(initData, function (key, arValues) {
                let curLi = $(switcherItemsWrapper.find('li')[key]);
                $.each(arValues, function (filterName, value) {
                    curLi.find('input[name=' + filterName + ']').val(value);
                });
            });
        }
        inputItems.change(function () {
            setSendingField();
        });
        function setSendingField() {
            let result = {},
                i = 0;
            $.each(switcherItemsWrapper.find('li'), function (key, liItem) {
                let itemArr = {};
                itemArr['title'] = $(liItem).find('input[name=title]').val();
                itemArr['subtitle'] = $(liItem).find('input[name=subtitle]').val();
                itemArr['filters'] = $(liItem).find('input[name=filters]').val();
                result[i] = itemArr;
                i++;
            });
            sendingField.val(JSON.stringify(result));
        }
        init();
    });
</script>